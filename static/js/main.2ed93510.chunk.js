(this.webpackJsonpcrud=this.webpackJsonpcrud||[]).push([[0],{35:function(e,a,t){e.exports=t(64)},40:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(31),c=t.n(l),o=(t(40),t(41),t(2)),s=t(10),m=t.n(s),d=t(13),u=t(14),i=t(6),p=t(7),E=t(32),g=t.n(E).a.create({baseURL:"http://localhost:5000/api/v1/"}),b=t(65),v=t(67),h=t(33),f=t(68),x=function(e){var a=Object(n.useState)(!1),t=Object(p.a)(a,2),l=(t[0],t[1]);return r.a.createElement(r.a.Fragment,null,e.validatenow&&e.message&&r.a.createElement("p",{className:"text-danger px-1 overflow-hidden position-absolute ",onAnimationStart:function(a){e.message&&l(!0),a.target.style.display="block"},onAnimationEnd:function(a){return!e.message&&(a.target.style.display="none")},style:{transition:"all 0.3s ",transform:"perspective(300px) rotateX(20deg) ",backgroundColor:"lightpink",fontSize:"13px",boxShadow:"0px 8px 1px -5px rgba(0,0,0,.3)",animation:" expand-inputerror 0.5s ease-in-out "}},e.message))},j=/\d/g,y=/\D/g,O=/\W/g,D=/^.{6,20}$/g,R=/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/g,w=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function I(e,a){var t=e.toString().trim();return a.includes("REQUIRED")&&""===t?"This Field is required":a.includes("ALPHANUMERIC")&&t.match(R)?"only alphanumeric characters":a.includes("NODIGIT")&&t.match(j)?"No digits are allowed":a.includes("DIGIT")&&t.match(y)?"Only digits are allowed":a.includes("NOSPACE")&&t.match(O)?"Space not allowed":a.includes("EMAIL")&&!t.match(w)?"Invalid email":a.includes("6-20")&&!t.match(D)?"Password should be 6-20 characters long":""}var C=Object(n.createContext)(),N=function(e){var a=Object(n.useState)({_id:"",empcode:"",name:"",department:"",gender:"",dob:"",joiningdate:"",previousexp:"",salary:"",address:"",update:!1,showAlert:!1,alertType:"success",alertMsg:"",records:[]}),t=Object(p.a)(a,2),l=t[0],c=t[1];return r.a.createElement(C.Provider,{value:{empdata:l,setEmpData:c}},e.children)},k={empcodeerror:"",nameerror:"",departmenterror:"",gendererror:"",doberror:"",joiningdateerror:"",previousexperror:"",salaryerror:"",addresserror:""},S=function(){var e=Object(o.f)(),a=Object(n.useState)(!1),t=Object(p.a)(a,2),l=t[0],c=t[1],s=Object(n.useState)(!1),E=Object(p.a)(s,2),j=E[0],y=E[1],O=Object(n.useContext)(C),D=O.empdata,R=O.setEmpData,w=Object(n.useState)(k),N=Object(p.a)(w,2),S=N[0],U=N[1],A=function(e,a){var t;"empcode"===e&&(t=I(a,["REQUIRED","ALPHANUMERIC","NOSPACE"])),"name"===e&&(t=I(a,["REQUIRED","NOSPACE","NODIGIT"])),"department"===e&&(t=I(a,["REQUIRED"])),"gender"===e&&(t=I(a,["REQUIRED"])),"dob"===e&&(t=I(a,["REQUIRED"])),"joiningdate"===e&&(t=I(a,["REQUIRED"])),"previousexp"===e&&(t=I(a,["REQUIRED","DIGIT"])),"salary"===e&&(t=I(a,["REQUIRED","DIGIT"])),"address"===e&&(t=I(a,["REQUIRED"])),e&&U((function(a){return Object(i.a)(Object(i.a)({},a),{},Object(u.a)({},"".concat(e,"error"),t))})),e||U({empcodeerror:I(D.empcode,["REQUIRED","ALPHANUMERIC","NOSPACE"]),nameerror:I(D.name,["REQUIRED","NOSPACE","NODIGIT"]),departmenterror:I(D.department,["REQUIRED"]),gendererror:I(D.gender,["REQUIRED"]),doberror:I(D.dob,["REQUIRED"]),joiningdateerror:I(D.joiningdate,["REQUIRED"]),previousexperror:I(D.previousexp,["REQUIRED","DIGIT"]),salaryerror:I(D.salary,["REQUIRED","DIGIT"]),addresserror:I(D.address,["REQUIRED"])})};function G(e){Object.entries(e).map((function(e){if(e[1])return console.log(e[0]," : ",e[1]),!0}))}var Q=function(){R((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:"",empcode:"",name:"",department:"",gender:"",dob:"",joiningdate:"",previousexp:"",salary:"",address:""})}))},P=function(){U(k)},T=function(e){e.persist();var a=e.target.name,t=e.target.value;D.update&&y(!0),R((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},a,t))})),c(!1),A(a,t)},L=function(){var a=Object(d.a)(m.a.mark((function a(t){var n,r,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,A();case 3:if(n=G(S),console.log(JSON.stringify(S),n),!1!==n){a.next=8;break}return c(!0),a.abrupt("return",R((function(e){return Object(i.a)(Object(i.a)({},e),{},{alertType:"warning",alertMsg:"Please fill all the details correctly"})})));case 8:return r={empcode:D.empcode,name:D.name,department:D.department,gender:D.gender,dob:D.dob,joiningdate:D.joiningdate,previousexp:D.previousexp,salary:D.salary,address:D.address},a.prev=9,a.next=12,g.patch("/tasks/".concat(D._id),r);case 12:l=a.sent,R((function(e){return Object(i.a)(Object(i.a)({},e),{},{update:!1})})),e("/datatable"),Q(),P(),console.log(l),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(9),console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[9,20]])})));return function(e){return a.apply(this,arguments)}}(),M=function(){var a=Object(d.a)(m.a.mark((function a(t){var n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,A();case 3:if(y(!0),!1!==G(S)){a.next=8;break}return c(!0),a.abrupt("return",R((function(e){return Object(i.a)(Object(i.a)({},e),{},{alertType:"warning",alertMsg:"Please fill all the details correctly"})})));case 8:return n={empcode:D.empcode,name:D.name,department:D.department,gender:D.gender,dob:D.dob,joiningdate:D.joiningdate,previousexp:D.previousexp,salary:D.salary,address:D.address},a.prev=9,a.next=12,g.post("/tasks",n);case 12:r=a.sent,e("/datatable"),R((function(e){return Object(i.a)(Object(i.a)({},e),{},{update:!1})})),Q(),P(),console.log(r),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(9),console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[9,20]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{onClick:function(){c(!1)},className:"bg-warning ",style:{cursor:"cell"}},r.a.createElement("h1",{className:"text-center text-white",style:{textShadow:"3px 3px 3px rgba(0,0,0,.3)"}},D.alertMsg)),r.a.createElement(b.a,null,r.a.createElement(v.a,{noValidate:!0,autoComplete:"off",onSubmit:D.update&&L||M,className:"my-5"},r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:h.a,md:"4"},r.a.createElement(v.a.Label,null,"Emp Code"),r.a.createElement(v.a.Control,{type:"text",name:"empcode",onFocus:T,onChange:T,value:D.empcode,placeholder:"Emp Code"}),r.a.createElement(x,{validatenow:j,message:S.empcodeerror})),r.a.createElement(v.a.Group,{as:h.a,md:"4"},r.a.createElement(v.a.Label,null,"Name"),r.a.createElement(v.a.Control,{type:"text",placeholder:"Name",name:"name",onChange:T,value:D.name}),r.a.createElement(x,{validatenow:j,message:S.nameerror})),r.a.createElement(v.a.Group,{as:h.a,md:"4"},r.a.createElement(v.a.Label,null,"Department"),r.a.createElement("select",{className:"form-control",type:"select",placeholder:"Department",name:"department",onChange:T,value:D.department},r.a.createElement("option",null),r.a.createElement("option",null,"Admin"),r.a.createElement("option",null,"Technology"),r.a.createElement("option",null,"Accounts")),r.a.createElement(x,{validatenow:j,message:S.departmenterror}))),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"mr-4 "},"Gender :"),r.a.createElement(v.a.Check,{className:"mr-3 ",inline:!0,type:"radio",id:"Male",name:"gender",label:"Male",onChange:T,value:"male",checked:"male"===D.gender}),r.a.createElement(v.a.Check,{className:"mr-3 ",inline:!0,type:"radio",name:"gender",id:"Female",label:"Female",onChange:T,value:"female",checked:"female"===D.gender}),r.a.createElement(x,{validatenow:j,message:S.gendererror})),r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:h.a,md:"3"},r.a.createElement(v.a.Label,null,"Date of birth"),r.a.createElement(v.a.Control,{type:"date",placeholder:"Date of birth",name:"dob",onChange:T,value:D.dob}),r.a.createElement(x,{validatenow:j,message:S.doberror})),r.a.createElement(v.a.Group,{as:h.a,md:"3"},r.a.createElement(v.a.Label,null,"Joining Date"),r.a.createElement(v.a.Control,{type:"date",placeholder:"Joining Date",name:"joiningdate",onChange:T,value:D.joiningdate}),r.a.createElement(x,{validatenow:j,message:S.joiningdateerror})),r.a.createElement(v.a.Group,{as:h.a,md:"3"},r.a.createElement(v.a.Label,null,"Previous Exp (years)"),r.a.createElement(v.a.Control,{type:"text",placeholder:"Previous Exp",name:"previousexp",onChange:T,value:D.previousexp}),r.a.createElement(x,{validatenow:j,message:S.previousexperror})),r.a.createElement(v.a.Group,{as:h.a,md:"3"},r.a.createElement(v.a.Label,null,"Salary"),r.a.createElement(v.a.Control,{type:"text",placeholder:"Salary",name:"salary",onChange:T,value:D.salary}),r.a.createElement(x,{validatenow:j,message:S.salaryerror}))),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Address"),r.a.createElement(v.a.Control,{as:"textarea",type:"textarea",placeholder:"Address",name:"address",onChange:T,value:D.address}),r.a.createElement(x,{validatenow:j,message:S.addresserror})),r.a.createElement(f.a,{type:"submit"},D.update?"Update":"Submit"," form"))))},U=t(66),A=t(11),G=function(){var e=Object(n.useState)(!1),a=Object(p.a)(e,2),t=a[0],l=a[1],c=Object(n.useContext)(C),o=c.empdata,s=c.setEmpData;Object(n.useEffect)((function(){return u(),function(){return u()}}),[t]);var u=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/tasks");case 3:a=e.sent,t=(t=a.data).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{dob:b(e.dob),joiningdate:b(e.joiningdate)})})),s((function(e){return Object(i.a)(Object(i.a)({},e),{},{records:t})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(m.a.mark((function e(a){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/tasks/".concat(a));case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),b=function(e,a){var t=new Date(e),n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());return n=n.split("-").map((function(e){return 1===e.split("").length?"0".concat(e):e})).join("-")};return r.a.createElement("div",{className:"mt-3 mx-3 mx-xl-auto shadow ",style:{maxWidth:"1200px"}},r.a.createElement(U.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,className:" bg-white"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"empcode"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Department"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null,"DDB"),r.a.createElement("th",null,"Joining Date"),r.a.createElement("th",null,"Previous Exp (years)"),r.a.createElement("th",null,"Salary"),r.a.createElement("th",null,"Address"),r.a.createElement("th",{colSpan:"2",className:"text-center"},"Actions"))),r.a.createElement("tbody",null,o.records&&o.records.map((function(e){return r.a.createElement("tr",{key:"empdata".concat(e._id)},r.a.createElement("td",null,e.empcode),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.department),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,e.dob),r.a.createElement("td",null,e.joiningdate),r.a.createElement("td",null,e.previousexp),r.a.createElement("td",null,e.salary),r.a.createElement("td",null,e.address),r.a.createElement("td",null,r.a.createElement(A.b,{to:"/"},r.a.createElement(f.a,{variant:"info",onClick:function(){return a=e._id,void o.records.filter((function(e){e._id===a&&s((function(t){return Object(i.a)(Object(i.a)({},t),{},{_id:a,empcode:e.empcode,name:e.name,department:e.department,gender:e.gender,dob:e.dob,joiningdate:e.joiningdate,previousexp:e.previousexp,salary:e.salary,address:e.address,update:!0})}))}));var a}},"Edit"))),r.a.createElement("td",null,r.a.createElement(f.a,{variant:"danger",onClick:function(){E(e._id),l((function(e){return!e}))}},"Delete")))})))))},Q=function(){return r.a.createElement("div",{className:"row m-0 justify-content-center "},r.a.createElement("div",{className:"col-12 col-sm-8 col-lg-6 py-1"},r.a.createElement("div",{className:"row  g-1 text-center "},r.a.createElement("div",{className:"col"},r.a.createElement(A.b,{to:"/",className:"h-100"},r.a.createElement("button",{className:"col btn btn-primary  shadow rounded-lg  h-100"},"Employee Table"))),r.a.createElement("div",{className:"col"},r.a.createElement(A.b,{to:"/datatable",className:"h-100"},r.a.createElement("button",{className:"col btn btn-primary  shadow rounded-lg h-100"},"Data Table"))))))},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(S,null)}),r.a.createElement(o.a,{path:"/datatable",element:r.a.createElement(G,null)})))};c.a.render(r.a.createElement(A.a,null,r.a.createElement(N,null,r.a.createElement(P,null))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.2ed93510.chunk.js.map